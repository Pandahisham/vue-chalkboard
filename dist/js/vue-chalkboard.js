!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueChalkboard=e():t.VueChalkboard=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.VueChalkboard=void 0;var a=n(7),i=o(a);e.default=i.default,e.VueChalkboard=i.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=o(a),r={canvas:{backgroundColor:"#444444"},tools:{paint:{size:2},erase:{size:25}}},s=function t(e){var n=this,o=e.x,a=void 0===o?0:o,s=e.y,l=void 0===s?0:s,d=e.color,c=void 0===d?240:d,u=e.dragging,f=void 0!==u&&u,h=e.mode,p=void 0===h?null:h;(0,i.default)(this,t),this.x=a,this.y=l,this.color=c,this.dragging=f,this.mode=p,this.getHexColor=function(t){return"erase"===n.mode?r.canvas.backgroundColor:"#"+n.color.toString(16).repeat(3)}};e.default={name:"chalkboard",props:["value"],data:function(){return{mode:"paint",icons:{write:n(6),erase:n(5)},points:[],canPaint:!1}},watch:{value:function(t){this.points=t,this.redraw()}},mounted:function(){this.defaultConfiguration(),this.install()},methods:{defaultConfiguration:function(){var t=this.$refs.canvas.getContext("2d");t.fillStyle="solid",t.lineWidth=5,t.lineJoin="round",t.lineCap="round"},install:function(){this.$refs.canvas.addEventListener("mousedown",this.handleMouseDown),this.$refs.canvas.addEventListener("mousemove",this.handleMouseMove),this.$refs.canvas.addEventListener("mouseup",this.disablePaint),this.$refs.canvas.addEventListener("mouseleave",this.disablePaint),this.$refs.canvas.width=this.$refs.canvas.parentNode.clientWidth,this.$refs.canvas.height=this.$refs.canvas.parentNode.clientHeight,this.paintBackground()},disablePaint:function(){this.canPaint=!1},changeMode:function(t){this.mode=t},handleMouseMove:function(t){if(this.canPaint){var e=t.target.parentNode,n=e.getBoundingClientRect(),o=new s({x:t.pageX-n.left,y:t.pageY-n.top,dragging:!0,mode:this.mode});this.savePoint(o),this.redraw()}},handleMouseDown:function(t){var e=t.target.parentNode,n=e.getBoundingClientRect();this.canPaint=!0;var o=new s({x:t.pageX-n.left,y:t.pageY-n.top,mode:this.mode});this.savePoint(o),this.redraw()},savePoint:function(t){this.points.push(t),this.$emit("drawn",t),this.$emit("input",this.points)},redraw:function(){var t=this.$refs.canvas.getContext("2d"),e=this.points;this.paintBackground();var n,o,a={color:null,mode:null},i=function(e){t.lineWidth=r.tools[e]?r.tools[e].size:r.tools.paint.size,t.stroke()};for(n=0;n<e.length;n++){o=new s(e[n]);var l=o.getHexColor();o.dragging&&n?null!==a.color&&a.color!==l&&(i(a.mode),t.beginPath()):(i(a.mode||o.mode),t.beginPath(),t.moveTo(o.x,o.y)),t.lineTo(o.x,o.y),a.color=t.strokeStyle=l,a.mode=o.mode}t.lineWidth=r.tools[a.mode]?r.tools[a.mode].size:r.tools.paint.size,t.stroke()},paintBackground:function(){var t=this.$refs.canvas.getContext("2d"),e=t.fillStyle;t.fillStyle=r.canvas.backgroundColor,t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=e}}}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".chalkboard[data-v-3648f858]{position:relative;cursor:default}.chalkboard__nav[data-v-3648f858]{position:absolute;top:0;left:0;padding:0;margin:0}.chalkboard__nav-item[data-v-3648f858]{display:block;float:left;padding:0;padding:16px;border-right:1px solid hsla(0,0%,100%,.1)}.chalkboard__nav-item .icon[data-v-3648f858]{fill:#fff;opacity:.4;cursor:pointer;transition:opacity .28s ease}.chalkboard__nav-item .icon.\\--active[data-v-3648f858],.chalkboard__nav-item .icon[data-v-3648f858]:hover{opacity:1}","",{version:3,sources:["/./src/vue-chalkboard.vue"],names:[],mappings:"AACA,6BAA6B,kBAAkB,cAAc,CAC5D,AACD,kCAAkC,kBAAkB,MAAM,OAAO,UAAU,QAAQ,CAClF,AACD,uCAAuC,cAAc,WAAW,UAAU,aAAa,yCAA4C,CAClI,AACD,6CAA6C,UAAU,WAAY,eAAe,4BAA4B,CAC7G,AACD,0GAAyG,SAAS,CACjH",file:"vue-chalkboard.vue",sourcesContent:["\n.chalkboard[data-v-3648f858]{position:relative;cursor:default\n}\n.chalkboard__nav[data-v-3648f858]{position:absolute;top:0;left:0;padding:0;margin:0\n}\n.chalkboard__nav-item[data-v-3648f858]{display:block;float:left;padding:0;padding:16px;border-right:1px solid rgba(255,255,255,0.1)\n}\n.chalkboard__nav-item .icon[data-v-3648f858]{fill:#fff;opacity:.40;cursor:pointer;transition:opacity .28s ease\n}\n.chalkboard__nav-item .icon.--active[data-v-3648f858],.chalkboard__nav-item .icon[data-v-3648f858]:hover{opacity:1\n}\n"],sourceRoot:"webpack://"}])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(o[i]=!0)}for(a=0;a<e.length;a++){var r=e[a];"number"==typeof r[0]&&o[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n<path d="M16.998 4.18l-3.154-2.425c-0.872-0.671-2.135-0.506-2.807 0.365l-8.4 10.897c-0.671 0.871-0.507 2.132 0.365 2.803l3.153 2.425c0.872 0.671 2.135 0.506 2.807-0.365l8.401-10.897c0.671-0.871 0.507-2.132-0.365-2.803zM8.548 16.467l-0.537 0.681c-0.152 0.197-0.385 0.31-0.639 0.31-0.124 0-0.309-0.029-0.485-0.164l-3.153-2.425c-0.168-0.129-0.275-0.317-0.303-0.53s0.028-0.422 0.157-0.589l0.537-0.681c0.152-0.197 0.385-0.311 0.64-0.311 0.124 0 0.309 0.029 0.485 0.164l3.154 2.425c0.168 0.129 0.275 0.317 0.303 0.53 0.026 0.213-0.030 0.422-0.159 0.59z"></path>\n</svg>\n'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n<path d="M17.561 2.439c-1.442-1.443-2.525-1.227-2.525-1.227l-12.826 12.825-1.010 4.762 4.763-1.010 12.826-12.823c-0.001 0 0.216-1.083-1.228-2.527zM5.68 17.217l-1.624 0.35c-0.156-0.293-0.345-0.586-0.69-0.932s-0.639-0.533-0.932-0.691l0.35-1.623 0.47-0.469c0 0 0.883 0.018 1.881 1.016 0.997 0.996 1.016 1.881 1.016 1.881l-0.471 0.468z"></path>\n</svg>\n'},function(t,e,n){var o,a;n(10),o=n(1);var i=n(8);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,a._scopeId="data-v-3648f858",t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chalkboard"},[n("ul",{staticClass:"chalkboard__nav"},[n("li",{staticClass:"chalkboard__nav-item"},[n("i",{staticClass:"icon",class:{"--active":"paint"===t.mode},domProps:{innerHTML:t._s(t.icons.write)},on:{click:function(e){t.changeMode("paint")}}})]),t._v(" "),n("li",{staticClass:"chalkboard__nav-item"},[n("i",{staticClass:"icon",class:{"--active":"erase"===t.mode},domProps:{innerHTML:t._s(t.icons.erase)},on:{click:function(e){t.changeMode("erase")}}})])]),t._v(" "),n("canvas",{ref:"canvas"})])},staticRenderFns:[]}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],a=u[o.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](o.parts[i]);for(;i<o.parts.length;i++)a.parts.push(l(o.parts[i],e))}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(l(o.parts[i],e));u[o.id]={id:o.id,refs:1,parts:r}}}}function a(t){for(var e=[],n={},o=0;o<t.length;o++){var a=t[o],i=a[0],r=a[1],s=a[2],l=a[3],d={css:r,media:s,sourceMap:l};n[i]?n[i].parts.push(d):e.push(n[i]={id:i,parts:[d]})}return e}function i(t,e){var n=p(),o=m[m.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function r(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t,e){var n,o,a;if(e.singleton){var i=g++;n=v||(v=s(e)),o=d.bind(null,n,i,!1),a=d.bind(null,n,i,!0)}else n=s(e),o=c.bind(null,n),a=function(){r(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else a()}}function d(t,e,n,o){var a=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=A(e,a);else{var i=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function c(t,e){var n=e.css,o=e.media,a=e.sourceMap;if(o&&t.setAttribute("media",o),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return o(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var s=n[r],l=u[s.id];l.refs--,i.push(l)}if(t){var d=a(t);o(d,e)}for(var r=0;r<i.length;r++){var l=i[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}}};var A=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var o=n(3);"string"==typeof o&&(o=[[t.id,o,""]]),n(9)(o,{}),o.locals&&(t.exports=o.locals)}])});
//# sourceMappingURL=vue-chalkboard.js.map